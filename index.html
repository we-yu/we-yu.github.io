<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Kohaku-san Kawaii</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This is my technical notes. And sometimes Diary.">
<meta property="og:type" content="website">
<meta property="og:title" content="Kohaku-san Kawaii">
<meta property="og:url" content="https://we-yu.github.io/index.html">
<meta property="og:site_name" content="Kohaku-san Kawaii">
<meta property="og:description" content="This is my technical notes. And sometimes Diary.">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Kohaku-san Kawaii">
<meta name="twitter:description" content="This is my technical notes. And sometimes Diary.">
  
    <link rel="alternate" href="/atom.xml" title="Kohaku-san Kawaii" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Kohaku-san Kawaii</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">we-yu&#39;s note</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://we-yu.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-pythonによる紳士達の性癖分析：Webスクレイピング編" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/24/pythonによる紳士達の性癖分析：Webスクレイピング編/" class="article-date">
  <time datetime="2019-03-24T16:12:39.000Z" itemprop="datePublished">2019-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/24/pythonによる紳士達の性癖分析：Webスクレイピング編/">pythonによる紳士達の性癖分析：Webスクレイピング編</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Analyzing-Gentlemen’s-fetishism-by-Web-scraping-from-Doujin-game-site-1st"><a href="#Analyzing-Gentlemen’s-fetishism-by-Web-scraping-from-Doujin-game-site-1st" class="headerlink" title="Analyzing Gentlemen’s fetishism by Web-scraping from Doujin-game site : 1st"></a>Analyzing Gentlemen’s fetishism by Web-scraping from Doujin-game site : 1st</h2><h3 id="Get-data-from-Doujin-game-download-web-site-Analyze-popular-genre"><a href="#Get-data-from-Doujin-game-download-web-site-Analyze-popular-genre" class="headerlink" title="Get data from Doujin-game download web-site. Analyze popular genre."></a>Get data from Doujin-game download web-site. Analyze popular genre.</h3><h4 id="Collect-fetishism-data-by-Web-scraping"><a href="#Collect-fetishism-data-by-Web-scraping" class="headerlink" title="Collect fetishism data by Web-scraping."></a>Collect fetishism data by Web-scraping.</h4><ul>
<li>To review currently Python learning, Do real web-scraping.</li>
<li>Perhaps someday useful for MachineLearning… I will get ranking data from A Doujin-game website.</li>
<li>Get data from high-ranking games, We <strong>may</strong> understand recently popular fetish genre by gentlemen.</li>
<li>I have to show some <strong>Unclean keywords</strong>. Please forgive me, Or <u>you’d better leave from here.</u></li>
</ul>
<p><em>Ready?</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: UTF-8</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> re <span class="comment"># 正規表現用</span></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep      <span class="comment"># 待ち時間用</span></span><br><span class="line"><span class="keyword">from</span> pprint <span class="keyword">import</span> pprint  <span class="comment"># 改行付き配列出力</span></span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">SCRAPING_INTERVAL_TIME = <span class="number">5.5</span></span><br><span class="line"></span><br><span class="line">ranking_category_total = (</span><br><span class="line">    <span class="string">"http://*"</span>,</span><br><span class="line">)</span><br><span class="line"><span class="comment"># https://www.dlsite.com/maniax/ranking</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ページネイションを含め、探査対象となるURL群を取得し配列に格納、返却する。</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getSearchTargetURLs</span><span class="params">(baseURLs)</span> :</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> basePage <span class="keyword">in</span> baseURLs :</span><br><span class="line">        tgtpage = requests.get(basePage)</span><br><span class="line">        pageUrls = []</span><br><span class="line"></span><br><span class="line">        soup = BeautifulSoup(tgtpage.content, <span class="string">"html.parser"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ページネイションURLを取得</span></span><br><span class="line">        pagenations = soup.select(<span class="string">"li.ranking_pagination_item"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ページネイションが存在しない場合は単一ページだけなので入力URLのみリストに入れ続行</span></span><br><span class="line">        <span class="keyword">if</span> len(pagenations) == <span class="number">0</span> :</span><br><span class="line">            pageUrls.append(basePage)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> pagina <span class="keyword">in</span> pagenations :</span><br><span class="line">            nexturl = pagina.find(<span class="string">'a'</span>, href=<span class="literal">True</span>)</span><br><span class="line">            pageUrls.append(nexturl[<span class="string">'href'</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 重複要素を削除（順番を保持しない）</span></span><br><span class="line">        pageUrls = list(set(pageUrls))</span><br><span class="line"></span><br><span class="line">    pprint(pageUrls)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> pageUrls</span><br><span class="line"></span><br><span class="line"><span class="comment"># 対象のプロダクトページが持つタグをすべて取得。タイトルと合わせて返す。</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getAttributeTags</span><span class="params">(tgturl)</span> :</span></span><br><span class="line">    tgtpage = requests.get(tgturl)</span><br><span class="line"></span><br><span class="line">    sp = BeautifulSoup(tgtpage.content, <span class="string">"html.parser"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#    pageTitle = sp("h1")</span></span><br><span class="line">    pageTitle = sp.select(<span class="string">"h1"</span>)[<span class="number">0</span>].text.strip()</span><br><span class="line"></span><br><span class="line">    elems = sp.find_all(href=re.compile(<span class="string">"work.genre"</span>))</span><br><span class="line"></span><br><span class="line">    tags = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> e <span class="keyword">in</span> elems:</span><br><span class="line">        tags.append(e.getText())</span><br><span class="line"></span><br><span class="line">    print(pageTitle, end=<span class="string">" "</span>)</span><br><span class="line">    print(tags)</span><br><span class="line">    <span class="keyword">return</span> pageTitle, tags</span><br><span class="line"></span><br><span class="line"><span class="comment"># メイン処理スタート</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># file open</span></span><br><span class="line">f = open(<span class="string">"RankingList.csv"</span>, <span class="string">"w"</span>)</span><br><span class="line">writer = csv.writer(f, lineterminator=<span class="string">"\n"</span>)</span><br><span class="line">header = [<span class="string">"Title"</span>, <span class="string">"Tags"</span>]</span><br><span class="line">writer.writerow(header)</span><br><span class="line"></span><br><span class="line">att_dict = &#123;&#125;</span><br><span class="line"></span><br><span class="line">targetURLs = getSearchTargetURLs(ranking_category_total)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> url <span class="keyword">in</span> targetURLs:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 対象URL : DLサイトランキング</span></span><br><span class="line">    r = requests.get(url)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 第一引数＝解析対象　第二引数＝パーサー(何を元に解析するか：この場合はHTML)</span></span><br><span class="line">    soup = BeautifulSoup(r.content, <span class="string">"html.parser"</span>)</span><br><span class="line"></span><br><span class="line">    idx = <span class="number">0</span></span><br><span class="line">    <span class="comment"># ランキングの順に従ってプロダクト名を取得する</span></span><br><span class="line">    <span class="keyword">for</span> rank <span class="keyword">in</span> soup.select(<span class="string">"dt.work_name"</span>):</span><br><span class="line"></span><br><span class="line">        idx+=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># タグ込文字列から個別ページへのURLを抽出（ひとつだけなのでfind_allでなくfind）</span></span><br><span class="line">        tgturl = rank.find(<span class="string">'a'</span>, href=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># rankにはタグ等の情報も含まれているため、タイトルだけ抽出する</span></span><br><span class="line">        <span class="comment"># product_title = rank.getText()</span></span><br><span class="line">        <span class="comment"># product_title = product_title.strip()</span></span><br><span class="line">        <span class="comment"># print(str(idx) + " " + product_title + " " + str(tgturl['href']))</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># タグ抽出用関数に個別ページのURLを渡し、タグ群を取得</span></span><br><span class="line">        title, tags = getAttributeTags(tgturl[<span class="string">'href'</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># &#123;タグ, そのタグを発見した数&#125;の形式で連想配列に格納。</span></span><br><span class="line">        <span class="keyword">for</span> tag <span class="keyword">in</span> tags:</span><br><span class="line">            att_dict[tag] = (att_dict.get(tag) <span class="keyword">or</span> <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        tags.insert(<span class="number">0</span>, title)</span><br><span class="line">        writer.writerow(tags)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (idx == <span class="number">10</span>) :</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        sleep(SCRAPING_INTERVAL_TIME)</span><br><span class="line"></span><br><span class="line">    sleep(<span class="number">61</span>)</span><br><span class="line"></span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 発見したタグとその数の一覧をCSV出力</span></span><br><span class="line">f = open(<span class="string">"TagList.csv"</span>, <span class="string">"w"</span>)</span><br><span class="line">writer = csv.writer(f, lineterminator=<span class="string">"\n"</span>)</span><br><span class="line">header = [<span class="string">"Tag"</span>, <span class="string">"Count"</span>]</span><br><span class="line">writer.writerow(header)</span><br><span class="line"></span><br><span class="line">csvline = []</span><br><span class="line"><span class="keyword">for</span> att <span class="keyword">in</span> att_dict :</span><br><span class="line">    csvline = [att, att_dict[att]]</span><br><span class="line">    writer.writerow(csvline)</span><br><span class="line"></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<ul>
<li>What am I doing? This is simple.<ol>
<li>Access to Ranking page.</li>
<li>If there’s paging, Get all URLs.</li>
<li>Move to each product page on Ranking. Get “Title” and “Tags”.</li>
</ol>
</li>
<li>And also create CSV file of <code>Title, Tag1, Tag2, Tag3, ...</code> and <code>Tag, Count of this Tag</code>. It may use for analyze later…</li>
<li>I think Title-text doesn’t have copyright. But just in case, Title is</li>
</ul>
<p><strong>I don’t recommend try to translate this texts.</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Title,Tags</span><br><span class="line">堕落***,女王様/お姫様,ラブラブ/あまあま,退廃/背徳/インモラル,中出し,処女</span><br><span class="line">制服***,癒し,バイノーラル,少女,耳かき,ラブラブ/あまあま,ほのぼの</span><br><span class="line">無口***,少女,セーラー服,電車,無理矢理,中出し,調教</span><br><span class="line">【バ***,癒し,お姉さん,着物/和服,耳かき,中出し,フェラチオ</span><br><span class="line">おい***,逆転無し,人外娘/モンスター娘,ファンタジー,丸呑み,逆レイプ,男性受け</span><br><span class="line">(F***,バイノーラル,足コキ,パイズリ,言葉責め,焦らし,男性受け</span><br><span class="line">ウラ***,ポリゴン,首輪/鎖/拘束具,ムチ/縄/蝋燭,売春/援交,調教,監禁</span><br><span class="line">ニプ***,連続絶頂,戦士,バニーガール,アヘ顔,ツインテール,巨乳/爆乳</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Tag,Count</span><br><span class="line">ポニーテール,6</span><br><span class="line">輪姦,23</span><br><span class="line">スーツ,1</span><br><span class="line">メガネ,2</span><br><span class="line">盗撮,1</span><br><span class="line">陵辱,58</span><br><span class="line">ヤクザ/裏社会,1</span><br><span class="line">女王様/お姫様,9</span><br><span class="line">口内射精,2</span><br></pre></td></tr></table></figure>
<ul>
<li>Frequency tags as this. Everyone likes おっぱい…</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/16015970-5f9f-0cf6-4a54-ae0eaecb1274.png" alt="image"></p>
<h4 id="What-use-for"><a href="#What-use-for" class="headerlink" title="What use for?"></a>What use for?</h4><ul>
<li>Can I find correlations?</li>
<li>For exsample… Maybe “ASMR, 耳かき” many times appear in same time. “逆レイプ, 言葉責め, 男性受け” also.<ul>
<li>Conversely, “陵辱, ラブラブ/あまあま” doesn’t have any correlation. Maybe.</li>
</ul>
</li>
<li>Might as well, I corrected this data. Use somehow by python and analyze.</li>
<li>Result of frequent tags combination survey, Go to <a href="http:://www.google.com" target="_blank" rel="noopener">next part</a>.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://we-yu.github.io/2019/03/24/pythonによる紳士達の性癖分析：Webスクレイピング編/" data-id="cjtohfo5w000bxvi572qi374a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python-Web-scraping/">Python Web-scraping</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-pythonによる紳士達の性癖分析：データ分析編" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/24/pythonによる紳士達の性癖分析：データ分析編/" class="article-date">
  <time datetime="2019-03-24T16:12:01.000Z" itemprop="datePublished">2019-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/24/pythonによる紳士達の性癖分析：データ分析編/">pythonによる紳士達の性癖分析：データ分析編</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Analyzing-Gentlemen’s-fetishism-by-Web-scraping-from-Doujin-game-site-2st"><a href="#Analyzing-Gentlemen’s-fetishism-by-Web-scraping-from-Doujin-game-site-2st" class="headerlink" title="Analyzing Gentlemen’s fetishism by Web-scraping from Doujin-game site : 2st"></a>Analyzing Gentlemen’s fetishism by Web-scraping from Doujin-game site : 2st</h2><h3 id="This-time-analyze-2-CSV-files-that-created-on-previous-article"><a href="#This-time-analyze-2-CSV-files-that-created-on-previous-article" class="headerlink" title="This time analyze 2 CSV files that created on previous article."></a>This time analyze 2 CSV files that created on <a href="http://ww" target="_blank" rel="noopener">previous</a> article.</h3><h4 id="Analyze-scraping-result"><a href="#Analyze-scraping-result" class="headerlink" title="Analyze scraping result."></a>Analyze scraping result.</h4><ul>
<li>Targets are 2 files that created on <a href="http://ww" target="_blank" rel="noopener">last time</a></li>
<li>Maybe we can do many ways. But just this now, Check <strong>Strong relevant</strong> tags.<ul>
<li>For example, “Wife” tag has low-relevant with “Loli”. But maybe strong-relevant with “Milf”.</li>
</ul>
</li>
<li><strong>Still shows Unmannered keywords as this. Be careful.</strong></li>
</ul>
<h4 id="Flow-of-processing"><a href="#Flow-of-processing" class="headerlink" title="Flow of processing"></a>Flow of processing</h4><ul>
<li>First, Prepare 2-dimensional-array (table) as this.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">-</th>
<th style="text-align:center">ポニーテール</th>
<th style="text-align:center">輪姦</th>
<th style="text-align:center">スーツ</th>
<th style="text-align:center">メガネ</th>
<th style="text-align:center">盗撮</th>
<th style="text-align:center">陵辱</th>
<th style="text-align:center">…</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ポニーテール</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">輪姦</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">スーツ</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">メガネ</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">盗撮</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">陵辱</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">-</td>
</tr>
</tbody>
</table>
<ul>
<li>Same values in records, columns. Finally this is Square &amp; Zero matrix.</li>
<li>We already created “tags count” CSV on last time.</li>
<li>Read “Title, Tags” CSV. Correspond cell increment as +1.<ul>
<li>For example, If read tags as <code>輪姦, 陵辱, ポニーテール</code>. (Maybe this product some ponytail girl will be suffer)</li>
<li>After that, Above table changes as this.</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">-</th>
<th style="text-align:center">ポニーテール</th>
<th style="text-align:center">輪姦</th>
<th style="text-align:center">スーツ</th>
<th style="text-align:center">メガネ</th>
<th style="text-align:center">盗撮</th>
<th style="text-align:center">陵辱</th>
<th style="text-align:center">…</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ポニーテール</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">輪姦</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">スーツ</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">メガネ</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">盗撮</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">陵辱</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">-</td>
</tr>
</tbody>
</table>
<ul>
<li>Then next. Read tags as <code>スーツ, 輪姦, 陵辱</code>. (Might be suit lady got some terrible trouble)</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">-</th>
<th style="text-align:center">ポニーテール</th>
<th style="text-align:center">輪姦</th>
<th style="text-align:center">スーツ</th>
<th style="text-align:center">メガネ</th>
<th style="text-align:center">盗撮</th>
<th style="text-align:center">陵辱</th>
<th style="text-align:center">…</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ポニーテール</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">輪姦</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">2</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">スーツ</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">メガネ</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">盗撮</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">陵辱</td>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">…</td>
</tr>
<tr>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">:</td>
<td style="text-align:center">-</td>
</tr>
</tbody>
</table>
<ul>
<li>Continue as this for all products in ranking. Analyze <strong>Which tags combination is most close?</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: UTF-8</span></span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"><span class="comment"># CSV読み込み・配列の添字・二次元辞書・キュー</span></span><br><span class="line"><span class="comment"># ランキング製品のタグの組み合わせの数をカウントする。</span></span><br><span class="line"></span><br><span class="line">RANKING_CSV_FILENAME = <span class="string">'RankingList.csv'</span></span><br><span class="line">DLTAGS_CSV_FILENAME = <span class="string">'TagList.csv'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 頻出すぎたり性癖に直結しない系統のタグはいったん外す。</span></span><br><span class="line">IGNORE_TAGS = (<span class="string">"バイノーラル"</span>, <span class="string">"中出し"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ランキング作品のタグ群を配列に読み込む。</span></span><br><span class="line">csv_file = open(RANKING_CSV_FILENAME, <span class="string">"r"</span>)</span><br><span class="line">f = csv.reader(csv_file, delimiter=<span class="string">","</span>, doublequote=<span class="literal">True</span>, lineterminator=<span class="string">"\r\n"</span>, quotechar=<span class="string">'"'</span>, skipinitialspace=<span class="literal">True</span>)</span><br><span class="line">header = next(f)</span><br><span class="line">productMatrix = []</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> f:</span><br><span class="line">    <span class="comment"># 左端はタイトルなので今回は不要。読み飛ばすため[1:]で指定。</span></span><br><span class="line">    t = row[<span class="number">1</span>:]</span><br><span class="line">    <span class="comment"># タグが無い作品については無視する</span></span><br><span class="line">    <span class="keyword">if</span> (len(t) &gt; <span class="number">0</span>) :</span><br><span class="line">        productMatrix.append(t)</span><br><span class="line"></span><br><span class="line"><span class="comment"># タグリストを読み込む（以降これは変更されない）</span></span><br><span class="line">tags = []</span><br><span class="line">csv_file = open(DLTAGS_CSV_FILENAME, <span class="string">"r"</span>)</span><br><span class="line">f = csv.reader(csv_file, delimiter=<span class="string">","</span>, doublequote=<span class="literal">True</span>, lineterminator=<span class="string">"\r\n"</span>, quotechar=<span class="string">'"'</span>, skipinitialspace=<span class="literal">True</span>)</span><br><span class="line">header = next(f)</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> f:</span><br><span class="line">    tags.append(row[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># [tags][tags]の二次元辞書を生成する。</span></span><br><span class="line">tagMatrix = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> tags :</span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> tags :</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> (x <span class="keyword">in</span> tagMatrix):</span><br><span class="line">            tagMatrix[x] = &#123;&#125;</span><br><span class="line">        <span class="comment"># 初期値は0とする</span></span><br><span class="line">        tagMatrix[x][y] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># productMatrixの1rowが「1製品の持つタグ群」になる。</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> productMatrix :</span><br><span class="line">    <span class="comment"># 暫定処理。現状、タグの設定が["xxx", "yyy]だった場合はtagMatrix["xxx"]["yyy"]と["yyy"]["xxx"]の両方でカウントする。</span></span><br><span class="line">    <span class="comment"># 必要なのは「組み合わせの数」なのでどちらかだけでよい。（最終的には疎行列かつ三角行列になるはず）</span></span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> x :</span><br><span class="line">        <span class="keyword">for</span> z <span class="keyword">in</span> x :</span><br><span class="line">            tagMatrix[y][z] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> z <span class="keyword">in</span> x:</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> x:</span><br><span class="line">            tagMatrix[y][z] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 頻出ランキング作成のためにサイズ5のキューを作成する。</span></span><br><span class="line">ranq = deque([], <span class="number">5</span>)</span><br><span class="line"><span class="comment"># Qへの初期値設定</span></span><br><span class="line">qInit = &#123;<span class="string">"val"</span>: <span class="number">-1</span>, <span class="string">"x"</span>: <span class="string">""</span>, <span class="string">"y"</span>: <span class="string">""</span>&#125;</span><br><span class="line">ranq.appendleft(qInit)</span><br><span class="line"></span><br><span class="line"><span class="comment"># tax*tagでマトリクスの全要素へアクセス可能。</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> tags :</span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> tags :</span><br><span class="line"></span><br><span class="line">        is_continue = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 対角要素は意味がないのですべて-1とする。</span></span><br><span class="line">        <span class="keyword">if</span> (x == y) :</span><br><span class="line">            tagMatrix[x][y] = <span class="number">-1</span></span><br><span class="line">        <span class="comment"># Qの左端要素の「出現回数」を超過するものがあった場合、当該要素をQの左側から入れる。</span></span><br><span class="line">        <span class="keyword">if</span> (tagMatrix[x][y] &gt; ranq[<span class="number">0</span>][<span class="string">"val"</span>]) :</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> ignore <span class="keyword">in</span> IGNORE_TAGS :</span><br><span class="line">                <span class="keyword">if</span>(x == ignore <span class="keyword">or</span> y == ignore) :</span><br><span class="line">                    is_continue = <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(is_continue) :</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            max = &#123;<span class="string">"val"</span>:tagMatrix[x][y], <span class="string">"x"</span>:x, <span class="string">"y"</span>:y&#125;</span><br><span class="line">            ranq.appendleft(max)</span><br><span class="line"></span><br><span class="line"><span class="comment"># CSVのヘッダ行生成。左端に"-"を入れる。</span></span><br><span class="line">h = copy.deepcopy(tags) <span class="comment"># 強いコピー</span></span><br><span class="line">h.insert(<span class="number">0</span>, <span class="string">"-"</span>)</span><br><span class="line">csvHeader = <span class="string">","</span>.join(h)</span><br><span class="line"></span><br><span class="line"><span class="comment"># タグの出現数をまとめた二次元配列出力</span></span><br><span class="line">f = open(<span class="string">"TagMatrix.csv"</span>, <span class="string">"w"</span>)</span><br><span class="line">writer = csv.writer(f, lineterminator=<span class="string">"\n"</span>)</span><br><span class="line">writer.writerow(h)</span><br><span class="line"></span><br><span class="line">csvLine = []</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> tags :</span><br><span class="line">    <span class="comment"># csvLine = [tag名, tag1との組み合わせ数, tag2との組み合わせ数, tag3との組み合わせの数…]という構成になる。</span></span><br><span class="line">    csvLine.append(x)</span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> tags :</span><br><span class="line">        csvLine.append(tagMatrix[x][y])</span><br><span class="line">    writer.writerow(csvLine)</span><br><span class="line">    csvLine.clear()</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 頻出の組み合わせを出力</span></span><br><span class="line"><span class="keyword">for</span> rq <span class="keyword">in</span> ranq :</span><br><span class="line">    print(rq[<span class="string">"val"</span>], rq[<span class="string">"x"</span>], rq[<span class="string">"y"</span>])</span><br></pre></td></tr></table></figure>
<ul>
<li>This is all code. Sorry I’m not expert about Python, Maybe this is not clean code.</li>
<li>Table on top of article export as CSV. (It easy to use for spreadsheet application)<ul>
<li>Diagonal elements are unnecessary. Any value is ok, Just this time set as <code>-1</code>.</li>
</ul>
</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/0b9b469c-9acf-a681-3341-5252dddd7223.png" alt="image"></p>
<h4 id="View-result-data"><a href="#View-result-data" class="headerlink" title="View result data"></a>View result data</h4><ul>
<li>Finally I got some data. Try to do something.</li>
<li>Pickup some frequent tags.<ul>
<li><code>巨乳/爆乳, 陵辱, ラブラブ/あまあま, 男性受け, 人外娘/モンスター娘</code> : <code>(Boobs, Insult, Lovelove/Sweet, Femdom, Monster-girl)</code></li>
</ul>
</li>
<li>Put this tags as vertical. Let me check frequent tags…</li>
</ul>
<h5 id="Boobs"><a href="#Boobs" class="headerlink" title="Boobs"></a>Boobs</h5><p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/1b89c708-d094-3e0e-0498-c0d7c001257b.png" alt="image"></p>
<p>わかりみ。</p>
<h5 id="Insult"><a href="#Insult" class="headerlink" title="Insult"></a>Insult</h5><p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/520b8106-a30d-6f60-b049-e1446861fa2e.png" alt="image"></p>
<p><strong>Syokusyu(Tentacles)</strong> is traditional Japanese culture since <a href="https://en.wikipedia.org/wiki/The_Dream_of_the_Fisherman%27s_Wife" target="_blank" rel="noopener">Katsushika Hokusai</a>… Maybe.</p>
<h5 id="Lovelove-Sweet"><a href="#Lovelove-Sweet" class="headerlink" title="Lovelove-Sweet"></a>Lovelove-Sweet</h5><p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/6d2897db-b14c-e075-9145-4c8e539a7f5d.png" alt="image"></p>
<p>On this case, a lot of positive image tags.</p>
<h5 id="Femdom"><a href="#Femdom" class="headerlink" title="Femdom"></a>Femdom</h5><p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/1a1e4c9a-e1fc-4e14-bb51-6084bcb812bc.png" alt="image"></p>
<p>Oh… yeah.</p>
<h5 id="Monster-girl"><a href="#Monster-girl" class="headerlink" title="Monster-girl"></a>Monster-girl</h5><p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/0d9acec3-0e39-533e-c1a3-9f97f274622e.png" alt="image"></p>
<p><img src="http://tn.smilevideo.jp/smile?i=21780747.L" alt="image"></p>
<hr>
<ul>
<li>Next. Pickup more “Particular” tags. (Some gentlemen has strong feeling for this habits)</li>
</ul>
<h5 id="NTR"><a href="#NTR" class="headerlink" title="NTR"></a>NTR</h5><p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/9ad9b4f3-8005-c8b7-be98-b4d8f26c3de4.png" alt="image"></p>
<p>NTR and Netorare, They are 2 sides of the same coin…</p>
<h5 id="Futanari"><a href="#Futanari" class="headerlink" title="Futanari"></a>Futanari</h5><p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/6079a581-961b-2f69-6c22-79c27566eaa7.png" alt="image"></p>
<p>Maybe enemy Mistress force to downfall(to darkside) for heroines.</p>
<h5 id="Darkside"><a href="#Darkside" class="headerlink" title="Darkside"></a>Darkside</h5><p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/81248dff-c9f7-188c-373a-00c3134fb4c7.png" alt="image"></p>
<p>From this side, Maybe Mahou-shoujo going to be brainwashed, That is always.</p>
<h5 id="None-reversal"><a href="#None-reversal" class="headerlink" title="None-reversal"></a>None-reversal</h5><p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/d90cf96a-0f9c-c5a4-593c-b3d813c1caa9.png" alt="image"></p>
<p>Strong combination of <strong>None-reversal, Femdom, Reversed rape</strong></p>
<h4 id="Summarize"><a href="#Summarize" class="headerlink" title="Summarize"></a>Summarize</h4><ul>
<li>Quite fan.</li>
</ul>
<h4 id="Loose-ends"><a href="#Loose-ends" class="headerlink" title="Loose ends"></a>Loose ends</h4><ul>
<li>Now get frequent tags by deque. Maybe still remain some issues. Need to enhance.</li>
<li>By Python, If use <strong>Data format</strong> we can make matrix more easy?</li>
<li>We want to know only “Tags combination” For example, <code>tagMatrix[&quot;陵辱&quot;][&quot;ポニーテール&quot;]</code> and <code>tagMatrix[&quot;ポニーテール&quot;][&quot;陵辱&quot;]</code>, 1 side is enough.<ul>
<li>Now this is Diagonal matrix. But finally Upper(Lower) triangular matrix is enough.</li>
</ul>
</li>
<li>Maybe 6 tags are maximum of 1 product.<ul>
<li>Search more products, Matrix getting huge. But almost elements are 0. This is Sparse matrix.</li>
<li>I don’t think modern PC memory flood by 1000 or 2000 tags, But anyway we should use waist resources. I want to install sparse-matrix algorithm.</li>
<li>As Y-Matrix my old work.</li>
</ul>
</li>
<li>Can I add <strong>Weight</strong> for tags combination from Ranking-score and sells-score.</li>
<li>It was good practice for Python. <strong>But I don’t have idea how to use it.</strong><ul>
<li>If I make good learning, Can I do predict next coming popular genre…?</li>
</ul>
</li>
<li>If you have some ideas, Please post <a href="https://qiita.com/we-yu/items/d98050e0de94914b15b7" target="_blank" rel="noopener">here</a><ul>
<li>Or <a href="https://docs.google.com/spreadsheets/d/12zU3987Ehv8CT4zhfZ9JmVMUmMGDqUhYBnUZyNfavUM/edit?usp=sharing" target="_blank" rel="noopener">Above CSV is here.</a> You may use this for your ideas.</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://we-yu.github.io/2019/03/24/pythonによる紳士達の性癖分析：データ分析編/" data-id="cjtohfo6d000nxvi5kwvgsded" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python-Doujin-game/">Python Doujin-game</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-sympyによる導関数の算出・描画" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/24/sympyによる導関数の算出・描画/" class="article-date">
  <time datetime="2019-03-24T15:38:35.000Z" itemprop="datePublished">2019-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/24/sympyによる導関数の算出・描画/">sympyによる導関数の算出・描画</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Calculate-amp-Draw-Derived-function-by-simpy"><a href="#Calculate-amp-Draw-Derived-function-by-simpy" class="headerlink" title="Calculate &amp; Draw Derived function by simpy"></a>Calculate &amp; Draw Derived function by simpy</h2><h3 id="Use-simpy-Drawing-Derived-function-graph"><a href="#Use-simpy-Drawing-Derived-function-graph" class="headerlink" title="Use simpy, Drawing Derived function graph."></a>Use simpy, Drawing Derived function graph.</h3><h4 id="Calculate-amp-Draw-Derived-function"><a href="#Calculate-amp-Draw-Derived-function" class="headerlink" title="Calculate &amp; Draw Derived function"></a>Calculate &amp; Draw Derived function</h4><ul>
<li>Detail setting should be investigate later.</li>
<li>On First step, make it as most simple.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sympy <span class="keyword">as</span> sy</span><br><span class="line"></span><br><span class="line">x = sy.Symbol(<span class="string">'x'</span>)</span><br><span class="line"></span><br><span class="line">f = (<span class="number">1</span> * x**<span class="number">3</span>) + (<span class="number">0</span> * x**<span class="number">2</span>) + (<span class="number">-2</span> * x) + (<span class="number">0</span>)</span><br><span class="line"><span class="keyword">print</span> f</span><br><span class="line"></span><br><span class="line">g = f.diff()</span><br><span class="line"><span class="keyword">print</span> g</span><br><span class="line"></span><br><span class="line">sy.plot(f, g, (x, <span class="number">-2</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hogehoge$ python plot2.py</span><br><span class="line">x**3 - 2*x</span><br><span class="line">3*x**2 - 2</span><br></pre></td></tr></table></figure>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/345352d4-9070-df8d-ab83-fc5d2abacbbf.png" alt="image.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://we-yu.github.io/2019/03/24/sympyによる導関数の算出・描画/" data-id="cjtohfo5u0009xvi5w4ymjz2a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python-simpy-Python2-7/">Python simpy Python2.7</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Udemy-ゼロからPythonで学ぶ人工知能と機械学習-ニューラルネットワークまとめ" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/23/Udemy-ゼロからPythonで学ぶ人工知能と機械学習-ニューラルネットワークまとめ/" class="article-date">
  <time datetime="2019-03-23T10:41:32.000Z" itemprop="datePublished">2019-03-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/23/Udemy-ゼロからPythonで学ぶ人工知能と機械学習-ニューラルネットワークまとめ/">Udemy - ゼロからPythonで学ぶ人工知能と機械学習 : ニューラルネットワークまとめ</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Udemy-ゼロからPythonで学ぶ人工知能と機械学習-ニューラルネットワークまとめ"><a href="#Udemy-ゼロからPythonで学ぶ人工知能と機械学習-ニューラルネットワークまとめ" class="headerlink" title="Udemy - ゼロからPythonで学ぶ人工知能と機械学習 : ニューラルネットワークまとめ"></a>Udemy - ゼロからPythonで学ぶ人工知能と機械学習 : ニューラルネットワークまとめ</h2><h3 id="みんなのAI講座-ゼロからPythonで学ぶ人工知能と機械学習"><a href="#みんなのAI講座-ゼロからPythonで学ぶ人工知能と機械学習" class="headerlink" title="みんなのAI講座 ゼロからPythonで学ぶ人工知能と機械学習"></a><a href="https://www.udemy.com/learning-ai/learn/v4/overview" target="_blank" rel="noopener">みんなのAI講座 ゼロからPythonで学ぶ人工知能と機械学習</a></h3><p><small>AI Class : Learn AI and MachineLearning by Python from scratch <strong>Overall</strong></small></p>
<p>This is overall for me, About Neuron Network session.</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/72f19548-1350-f996-1540-e7b89ad86303.png" alt="NeuronNetwork.png" title="抽出概要"></p>
<h4 id="Neuron-Class"><a href="#Neuron-Class" class="headerlink" title="Neuron Class"></a>Neuron Class</h4><ul>
<li>This is define of Neuron that works as node in network.</li>
<li>IN:OUT is N:1. Input is multiple, But output is always 1. (However, Output <strong>destination</strong> is not always only one)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Neuron</span>:</span></span><br><span class="line">    input_sum = <span class="number">0.0</span>  <span class="comment"># 最終的にこの値が少しずつ増える</span></span><br><span class="line">    output = <span class="number">0.0</span>  <span class="comment"># output用</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setInput</span><span class="params">(self, inp)</span>:</span></span><br><span class="line">        self.input_sum += inp</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getOutput</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.output = sigmoid(self.input_sum)</span><br><span class="line">        <span class="keyword">return</span> self.output</span><br><span class="line"></span><br><span class="line">    <span class="comment"># input/output values intialize</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reset</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.input_sum = <span class="number">0</span></span><br><span class="line">        self.output = <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h4 id="Neural-Network-Class"><a href="#Neural-Network-Class" class="headerlink" title="Neural Network Class"></a>Neural Network Class</h4><ul>
<li>Define of Neural Network constructed by several Neurons.</li>
<li><code>w_im</code> = 3 weights for value of [Input-Neuron -&gt; Middle-Neuron] and [Bias -&gt; M-Neuron].<ul>
<li>Same as this, [w_mo] is Weights of Middle -&gt; Output layer.</li>
</ul>
</li>
<li>If code like <code>C</code>, Number of weights of <code>w_im[x][y]</code>. Each value means <code>x = Number of Input nodes, y = Number of Destination nodes</code>.<ul>
<li>On this code, Inputs are <code>Neuron, Neuron, Bias</code>. Destinations are <code>Neuron, Neuron</code> (Bias is not node). Finally 3 * 2, Total 6 weights.</li>
</ul>
</li>
<li>Defined nodes are 3 + 3 + 1.<ul>
<li>Initial output of Input Neurons are fixed by 0, 0. And Bias also fixed as 1.0.</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NeuralNetwork</span>:</span></span><br><span class="line">    <span class="comment"># 入力値の重みづけ</span></span><br><span class="line">    <span class="comment"># 入力層・中間層間の重み</span></span><br><span class="line">    w_im = [[<span class="number">0.496</span>, <span class="number">0.512</span>], [<span class="number">-0.501</span>, <span class="number">0.998</span>], [<span class="number">0.498</span>, <span class="number">-0.502</span>]]  <span class="comment"># 第一入力NEU→各中間NEUの重み, 第二入力NEU→各中間NEUの重み, 入力バイアス→各中間NEUの重み</span></span><br><span class="line">    <span class="comment"># 中間層・出力層間の重み</span></span><br><span class="line">    w_mo = [<span class="number">0.121</span>, <span class="number">-0.4996</span>, <span class="number">0.200</span>]  <span class="comment"># 第一中間NEU→出力NEUの重み, 第二中間NEU→出力NEUの重み, 中間バイアス→出力NEUの重み</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 各層宣言</span></span><br><span class="line">    <span class="comment"># 入力層：N（ニューロン）、N、バイアス　入力層は数値がそのまま入る</span></span><br><span class="line">    input_layer = [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>]</span><br><span class="line">    <span class="comment"># 中間層：Nインスタンス、Nインスタンス、バイアス</span></span><br><span class="line">    middle_layer = [Neuron(), Neuron(), <span class="number">1.0</span>]</span><br><span class="line">    <span class="comment"># Nはひとつだけ</span></span><br><span class="line">    output_layer = Neuron()</span><br></pre></td></tr></table></figure>
<h3 id="Commit-function"><a href="#Commit-function" class="headerlink" title="Commit function"></a>Commit function</h3><ul>
<li>Input 2 values (On this time, <code>input_data[0/1]</code> is latitude and longitude), And each weights. Get finally network output(= Last node’s output).</li>
<li>For example, Input for Middle-1st-node. This value get from Each <code>input-node-output * weight + Bias * weight</code>.</li>
<li>Bias’s output is always same. But <strong>Input from Bias</strong> is changeable.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Receive inputs,</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">commit</span><span class="params">(self, input_data)</span>:</span></span><br><span class="line">    <span class="comment"># 各層ニューロン初期化</span></span><br><span class="line">    self.input_layer[<span class="number">0</span>] = input_data[<span class="number">0</span>]</span><br><span class="line">    self.input_layer[<span class="number">1</span>] = input_data[<span class="number">1</span>]</span><br><span class="line">    self.middle_layer[<span class="number">0</span>].reset()</span><br><span class="line">    self.middle_layer[<span class="number">1</span>].reset()</span><br><span class="line">    self.output_layer.reset()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 入力層→中間層</span></span><br><span class="line">    <span class="comment"># 第一中間ニューロンに入力３つ</span></span><br><span class="line">    nr_idx = <span class="number">0</span></span><br><span class="line">    self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">0</span>] * self.w_im[<span class="number">0</span>][nr_idx])  <span class="comment"># 第一入力N出力値×対応重み</span></span><br><span class="line">    self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">1</span>] * self.w_im[<span class="number">1</span>][nr_idx])</span><br><span class="line">    self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">2</span>] * self.w_im[<span class="number">2</span>][nr_idx])  <span class="comment"># バイアス</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 第二中間ニューロンに入力３つ</span></span><br><span class="line">    nr_idx = <span class="number">1</span></span><br><span class="line">    self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">0</span>] * self.w_im[<span class="number">0</span>][nr_idx])</span><br><span class="line">    self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">1</span>] * self.w_im[<span class="number">1</span>][nr_idx])</span><br><span class="line">    self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">2</span>] * self.w_im[<span class="number">2</span>][nr_idx])  <span class="comment"># バイアス</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 中間層→出力層</span></span><br><span class="line">    self.output_layer.setInput(self.middle_layer[<span class="number">0</span>].getOutput() * self.w_mo[<span class="number">0</span>])</span><br><span class="line">    self.output_layer.setInput(self.middle_layer[<span class="number">1</span>].getOutput() * self.w_mo[<span class="number">1</span>])</span><br><span class="line">    self.output_layer.setInput(self.middle_layer[<span class="number">2</span>] * self.w_mo[<span class="number">2</span>])  <span class="comment"># バイアス</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> self.output_layer.getOutput()  <span class="comment"># ニューラルネットワーク全体の出力値が帰る</span></span><br></pre></td></tr></table></figure>
<h3 id="Learning-function"><a href="#Learning-function" class="headerlink" title="Learning function"></a>Learning function</h3><ul>
<li>Finally, Code structure became as Learn-func ∋ Commit-func. Call Learning func for use Network.</li>
<li>I have to check again Video for relearn. Anyway, After got “Output value of network”. Need to adjust each <code>weight</code> values.<ol>
<li>Calculate “Diff of Network-output-value and Correct-value.”</li>
<li>By [1] value, Adjust weight between [Middle-layer and Output-layer].</li>
<li>By [Old M-O weight] and [2] value (New M-O weight), Calculate weight between [Input-layer and Middle-layer].</li>
</ol>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">learn</span><span class="params">(self, input_data)</span>:</span></span><br><span class="line">    <span class="comment"># 出力値 コミットに緯度と経度を渡す ニューラルネットワークの出力値が帰る</span></span><br><span class="line">    output_data = self.commit([input_data[<span class="number">0</span>], input_data[<span class="number">1</span>]])</span><br><span class="line">    <span class="comment"># 学習する correct_valueに0/1で正解/不正解</span></span><br><span class="line">    correct_value = input_data[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print output_data</span></span><br><span class="line">    <span class="comment"># print (correct_value - output_data) # 出力/正解値の誤差</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># δmo = (出力値 - 正解値) * 出力の微分: 入力層・中間層修正にも使う</span></span><br><span class="line">    <span class="comment"># 差分が小さい／大きいときは修正量が小さくなる、真ん中ぐらいだと大きくなる</span></span><br><span class="line">    <span class="comment"># 中間層ー出力層：修正量 = δmo * 中間層の値 * 学習係数(定数：大きすぎると重みの値が発散する、小さすぎると時間がかかる)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 学習係数(定数)</span></span><br><span class="line">    K = <span class="number">0.3</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 出力層→中間層</span></span><br><span class="line">    <span class="comment"># 差分 * (微分値) ※シグモイド関数による微分は「n * (1 - n)」になる。</span></span><br><span class="line">    delta_w_mo = (correct_value - output_data) * output_data * (<span class="number">1.0</span> - output_data)</span><br><span class="line">    <span class="comment"># 変更前重み</span></span><br><span class="line">    old_w_mo = list(self.w_mo)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 重み更新 中間層出力値 * δ * 固定係数</span></span><br><span class="line">    self.w_mo[<span class="number">0</span>] += self.middle_layer[<span class="number">0</span>].output * delta_w_mo * K</span><br><span class="line">    self.w_mo[<span class="number">1</span>] += self.middle_layer[<span class="number">1</span>].output * delta_w_mo * K</span><br><span class="line">    self.w_mo[<span class="number">2</span>] += self.middle_layer[<span class="number">2</span>] * delta_w_mo * K <span class="comment"># バイアス</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># δim = δmo * 中間出力の重み * 中間層微分値</span></span><br><span class="line">    <span class="comment"># 入力層ー中間層：修正量 = δim * 入力層の値 * 学習係数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 中間→入力層</span></span><br><span class="line">    delta_w_im = [</span><br><span class="line">        delta_w_mo * old_w_mo[<span class="number">0</span>] * self.middle_layer[<span class="number">0</span>].output * (<span class="number">1.0</span> - self.middle_layer[<span class="number">0</span>].output),</span><br><span class="line">        delta_w_mo * old_w_mo[<span class="number">1</span>] * self.middle_layer[<span class="number">1</span>].output * (<span class="number">1.0</span> - self.middle_layer[<span class="number">1</span>].output),</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 重み更新 中間数はニューロン２つ　入力層はバイアス+ニューロンで３つ</span></span><br><span class="line">    self.w_im[<span class="number">0</span>][<span class="number">0</span>] += self.input_layer[<span class="number">0</span>] * delta_w_im[<span class="number">0</span>] * K <span class="comment"># I1-M1</span></span><br><span class="line">    self.w_im[<span class="number">0</span>][<span class="number">1</span>] += self.input_layer[<span class="number">0</span>] * delta_w_im[<span class="number">1</span>] * K <span class="comment"># I1-M2</span></span><br><span class="line">    self.w_im[<span class="number">1</span>][<span class="number">0</span>] += self.input_layer[<span class="number">1</span>] * delta_w_im[<span class="number">0</span>] * K <span class="comment"># I2-M1</span></span><br><span class="line">    self.w_im[<span class="number">1</span>][<span class="number">1</span>] += self.input_layer[<span class="number">1</span>] * delta_w_im[<span class="number">1</span>] * K <span class="comment"># I2-M2</span></span><br><span class="line">    self.w_im[<span class="number">2</span>][<span class="number">0</span>] += self.input_layer[<span class="number">2</span>] * delta_w_im[<span class="number">0</span>] * K <span class="comment"># IB-M1</span></span><br><span class="line">    self.w_im[<span class="number">2</span>][<span class="number">1</span>] += self.input_layer[<span class="number">2</span>] * delta_w_im[<span class="number">1</span>] * K <span class="comment"># IB-M2</span></span><br><span class="line">    <span class="comment"># I1 = 入力層第一ニューロン M1 = 中間層第一ニューロン IB = 入力層バイアス</span></span><br></pre></td></tr></table></figure>
<h3 id="Main-process"><a href="#Main-process" class="headerlink" title="Main process"></a>Main process</h3><ul>
<li>Read read as below. (Latitude, Longitude, Correct flag(0/1))</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">35.37,138.08,0</span><br><span class="line">35.4,138.4,0</span><br><span class="line">35.08,138.05,1</span><br><span class="line">35.14,138.23,0</span><br><span class="line">35.26,137.84,1</span><br><span class="line">:</span><br><span class="line">:</span><br></pre></td></tr></table></figure>
<ul>
<li>Instantiate Neural Network, Then kick learning 1000*100 times.</li>
<li>print for learned <code>weights</code>.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基準点(データの範囲を0.0〜1.0内に収める為)</span></span><br><span class="line">refer_point_0 = <span class="number">34.5</span></span><br><span class="line">refer_point_1 = <span class="number">137.5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Read data</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line">training_data = []</span><br><span class="line">training_data_file = open(<span class="string">"training_data.txt"</span>, <span class="string">"r"</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> training_data_file:</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    line = line.rstrip().split(<span class="string">","</span>)  <span class="comment"># 改行を取り除き,で分ける</span></span><br><span class="line">    training_data.append([float(line[<span class="number">0</span>]) - refer_point_0, float(line[<span class="number">1</span>]) - refer_point_1, int(line[<span class="number">2</span>])])</span><br><span class="line">training_data_file.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># print training_data</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create NeuralNework instance</span></span><br><span class="line">neural_network = NeuralNetwork()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 学習（一度のみ）</span></span><br><span class="line"><span class="comment"># neural_network.learn(training_data[0])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 学習（繰り返し）</span></span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> range (<span class="number">0</span>, <span class="number">1000</span>) : <span class="comment"># 1000回学習</span></span><br><span class="line">    ii = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> training_data : <span class="comment"># 各データに対し実施（100回）</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((t % <span class="number">100</span> == <span class="number">0</span>) <span class="keyword">and</span> (ii == <span class="number">0</span> <span class="keyword">or</span> ii == <span class="number">1</span>)):</span><br><span class="line">            <span class="keyword">print</span> t, <span class="string">":"</span>,</span><br><span class="line">            <span class="keyword">print</span> neural_network.w_im,</span><br><span class="line">            <span class="keyword">print</span> neural_network.w_mo</span><br><span class="line"></span><br><span class="line">        ii += <span class="number">1</span></span><br><span class="line">        neural_network.learn(data) <span class="comment"># t * 100回学習</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> neural_network.w_im</span><br><span class="line"><span class="keyword">print</span> neural_network.w_mo</span><br></pre></td></tr></table></figure>
<h3 id="Plot-for-Training-data-Real-data"><a href="#Plot-for-Training-data-Real-data" class="headerlink" title="Plot for Training data, Real data."></a>Plot for Training data, Real data.</h3><ul>
<li>Classificate read data from text. And real latitude, longitude data.</li>
<li>Around here, We have to check again on class.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 訓練用データ表示の準備</span></span><br><span class="line">position_tokyo_leaning = [[], []]</span><br><span class="line">position_kanagawa_leaning = [[], []]</span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> training_data:</span><br><span class="line">    <span class="keyword">if</span> data[<span class="number">2</span>] &lt; <span class="number">0.5</span>:  <span class="comment"># 正解値が0.5以下（＝0）である場合</span></span><br><span class="line">        position_tokyo_leaning[<span class="number">0</span>].append(data[<span class="number">1</span>] + refer_point_1)  <span class="comment"># 経度</span></span><br><span class="line">        position_tokyo_leaning[<span class="number">1</span>].append(data[<span class="number">0</span>] + refer_point_0)  <span class="comment"># 緯度</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        position_kanagawa_leaning[<span class="number">0</span>].append(data[<span class="number">1</span>] + refer_point_1)</span><br><span class="line">        position_kanagawa_leaning[<span class="number">1</span>].append(data[<span class="number">0</span>] + refer_point_0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 実データで実行（答え合わせ）</span></span><br><span class="line">data_to_commit = [[<span class="number">34.6</span>, <span class="number">138.0</span>], [<span class="number">34.6</span>, <span class="number">138.18</span>], [<span class="number">35.4</span>, <span class="number">138.0</span>], [<span class="number">34.98</span>, <span class="number">138.1</span>], [<span class="number">35.0</span>, <span class="number">138.25</span>], [<span class="number">35.4</span>, <span class="number">137.6</span>], [<span class="number">34.98</span>, <span class="number">137.52</span>], [<span class="number">34.5</span>, <span class="number">138.5</span>], [<span class="number">35.4</span>, <span class="number">138.1</span>]]</span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> data_to_commit : <span class="comment"># 緯度経度を0-1の中に収める</span></span><br><span class="line">    data[<span class="number">0</span>] -= refer_point_0</span><br><span class="line">    data[<span class="number">1</span>] -= refer_point_1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分類したデータを格納する</span></span><br><span class="line">position_tokyo_learned = [[], []]</span><br><span class="line">position_kanagawa_learned = [[], []]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> data_to_commit:</span><br><span class="line">    <span class="keyword">if</span> neural_network.commit(data) &lt; <span class="number">0.5</span> :</span><br><span class="line">        position_tokyo_learned[<span class="number">0</span>].append(data[<span class="number">1</span>] + refer_point_1)</span><br><span class="line">        position_tokyo_learned[<span class="number">1</span>].append(data[<span class="number">0</span>] + refer_point_0)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        position_kanagawa_learned[<span class="number">0</span>].append(data[<span class="number">1</span>] + refer_point_1)</span><br><span class="line">        position_kanagawa_learned[<span class="number">1</span>].append(data[<span class="number">0</span>] + refer_point_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.scatter(position_tokyo_leaning[<span class="number">0</span>], position_tokyo_leaning[<span class="number">1</span>], c=<span class="string">"red"</span>, label=<span class="string">"Tokyo_Learn"</span>, marker=<span class="string">"+"</span>)</span><br><span class="line">plt.scatter(position_kanagawa_leaning[<span class="number">0</span>], position_kanagawa_leaning[<span class="number">1</span>], c=<span class="string">"blue"</span>, label=<span class="string">"Kanagawa_Learn"</span>, marker=<span class="string">"+"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分類データ</span></span><br><span class="line">plt.scatter(position_tokyo_learned[<span class="number">0</span>], position_tokyo_learned[<span class="number">1</span>], c=<span class="string">"red"</span>, label=<span class="string">"Tokyo_Learn"</span>, marker=<span class="string">"*"</span>)</span><br><span class="line">plt.scatter(position_kanagawa_learned[<span class="number">0</span>], position_kanagawa_learned[<span class="number">1</span>], c=<span class="string">"blue"</span>, label=<span class="string">"Kanagawa_Learn"</span>, marker=<span class="string">"*"</span>)</span><br><span class="line"></span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/7f15db97-87d6-1ad0-2c03-6763581642f5.png" alt="image"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://we-yu.github.io/2019/03/23/Udemy-ゼロからPythonで学ぶ人工知能と機械学習-ニューラルネットワークまとめ/" data-id="cjtohfo69000kxvi5mk7zff59" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Udemy-Python-MachineLearning/">Udemy Python MachineLearning</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Udemy-ゼロからPythonで学ぶ人工知能と機械学習-数学系処理／ニューロン編" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/23/Udemy-ゼロからPythonで学ぶ人工知能と機械学習-数学系処理／ニューロン編/" class="article-date">
  <time datetime="2019-03-22T19:21:12.000Z" itemprop="datePublished">2019-03-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/23/Udemy-ゼロからPythonで学ぶ人工知能と機械学習-数学系処理／ニューロン編/">Udemy - ゼロからPythonで学ぶ人工知能と機械学習 : 数学系処理／ニューロン編</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Udemy-ゼロからPythonで学ぶ人工知能と機械学習-数学系処理／ニューロン編"><a href="#Udemy-ゼロからPythonで学ぶ人工知能と機械学習-数学系処理／ニューロン編" class="headerlink" title="Udemy - ゼロからPythonで学ぶ人工知能と機械学習 : 数学系処理／ニューロン編"></a>Udemy - ゼロからPythonで学ぶ人工知能と機械学習 : 数学系処理／ニューロン編</h2><h3 id="みんなのAI講座-ゼロからPythonで学ぶ人工知能と機械学習"><a href="#みんなのAI講座-ゼロからPythonで学ぶ人工知能と機械学習" class="headerlink" title="みんなのAI講座 ゼロからPythonで学ぶ人工知能と機械学習"></a><a href="https://www.udemy.com/learning-ai/learn/v4/overview" target="_blank" rel="noopener">みんなのAI講座 ゼロからPythonで学ぶ人工知能と機械学習</a></h3><p><small>AI Class : Learn AI and MachineLearning by Python from scratch</small></p>
<h4 id="Package-import"><a href="#Package-import" class="headerlink" title="Package import"></a>Package import</h4><blockquote>
<p>Preferences or Setting -&gt; [Project Name] -&gt; Project Interpreter</p>
</blockquote>
<ul>
<li>If there’s warnings about packaging tool, install that at the time of package unable to import.</li>
<li>I got error to import <code>matplotlib</code>. Searched by error-message, Finally I got it by this solution.<ul>
<li><a href="http://zashikiro.hateblo.jp/entry/2012/10/02/130031" target="_blank" rel="noopener">http://zashikiro.hateblo.jp/entry/2012/10/02/130031</a></li>
<li><a href="https://stackoverflow.com/questions/44318333/unable-to-import-matplotlib-pyplot" target="_blank" rel="noopener">https://stackoverflow.com/questions/44318333/unable-to-import-matplotlib-pyplot</a></li>
</ul>
</li>
</ul>
<h4 id="Plot-Linear-function"><a href="#Plot-Linear-function" class="headerlink" title="Plot Linear function"></a>Plot Linear function</h4><ul>
<li>Use <code>matplotlib</code>, <code>numpy</code> packages.</li>
<li>On Python, Able to package define as alias.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">x = np.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0.1</span>)   <span class="comment"># 0〜9.9を0.1刻みで作ったものをリスト形式で格納</span></span><br><span class="line"><span class="keyword">print</span> x</span><br><span class="line"></span><br><span class="line">y = <span class="number">2</span> * x + <span class="number">1</span> <span class="comment"># xリストの各要素を二倍し、+1する</span></span><br><span class="line"><span class="keyword">print</span> y</span><br><span class="line"></span><br><span class="line">plt.plot(x, y) <span class="comment"># 作成したx,yで二次元グラフ描画</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/94458787-abf5-daed-565b-77ba3379d609.png" alt="image"></p>
<ul>
<li>By <code>plt.show()</code>, Able to draw as this graph.</li>
<li>On this Window, Able to Move, Zoom-in/out, Change range.</li>
</ul>
<h4 id="Plot-Quadratic-Cubic-functions"><a href="#Plot-Quadratic-Cubic-functions" class="headerlink" title="Plot Quadratic, Cubic functions"></a>Plot Quadratic, Cubic functions</h4><ul>
<li>If you make function, Able to draw over Quadratic functions.</li>
<li>Stack function into same alias, Draw graph in same Window.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">-5</span>, <span class="number">15</span>, <span class="number">0.1</span>)</span><br><span class="line"><span class="keyword">print</span> x</span><br><span class="line"></span><br><span class="line"><span class="comment"># 二次関数生成</span></span><br><span class="line"><span class="comment"># y = x^2 - 10x + 10</span></span><br><span class="line">y_2 = x**<span class="number">2</span> - <span class="number">10</span>*x + <span class="number">10</span></span><br><span class="line">plt.plot(x, y_2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 三次関数生成</span></span><br><span class="line"><span class="comment"># y = x^3 - 10x^2 - 10x + 10</span></span><br><span class="line">y_3 = x**<span class="number">3</span> - <span class="number">10</span>*x**<span class="number">2</span> - <span class="number">10</span>*x + <span class="number">10</span></span><br><span class="line">plt.plot(x, y_3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># pltに放り込まれた関数を描画</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/cd2ba143-9008-1c01-89dc-fcf4ccb61ced.png" alt="image"></p>
<h4 id="Sigmoid"><a href="#Sigmoid" class="headerlink" title="Sigmoid"></a>Sigmoid</h4><ul>
<li>Non-local value and Non-argument value (Napier) in user defined function. This is defined outer of function. Is it nothing any issues?<ul>
<li>(Defined in main func, Used in sigmoid func)</li>
<li>On this time value equals defined on just before call function?</li>
</ul>
</li>
<li><code>e</code> is constant value… Can I use <code>math.e</code> in local func?</li>
<li>By Python manner, Is it nothing issues “Unidentified” values in function?</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(a)</span>:</span></span><br><span class="line">    <span class="comment"># y = 1 / (1 + e^(-1))</span></span><br><span class="line">    s = <span class="number">1</span> / (<span class="number">1</span> + e**-a)</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line">e = math.e</span><br><span class="line"></span><br><span class="line">dx = <span class="number">0.1</span></span><br><span class="line">x = np.arange(<span class="number">-8</span>, <span class="number">8</span>, dx)</span><br><span class="line"><span class="keyword">print</span> x</span><br><span class="line"></span><br><span class="line">y_sig = sigmoid(x)</span><br><span class="line"></span><br><span class="line">plt.plot(x, y_sig)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h4 id="Label"><a href="#Label" class="headerlink" title="Label"></a>Label</h4><ul>
<li>At <code>.plot</code>, set <code>label = &quot;string&quot;</code> then use <code>.legend</code>. It able to add <strong>Name</strong> in graph.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(a)</span>:</span></span><br><span class="line">    s = <span class="number">1</span> / (<span class="number">1</span> + math.e**-a)</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line">dx = <span class="number">0.1</span></span><br><span class="line">x = np.arange(<span class="number">-8</span>, <span class="number">8</span>, dx)</span><br><span class="line"><span class="keyword">print</span> x</span><br><span class="line"></span><br><span class="line"><span class="comment"># シグモイド関数</span></span><br><span class="line">y_sig = sigmoid(x)</span><br><span class="line"><span class="comment"># シグモイド関数の傾き算出</span></span><br><span class="line">y_dsig = (sigmoid(x+dx) - sigmoid(x)) / dx</span><br><span class="line"><span class="comment"># シグモイド関数の微分</span></span><br><span class="line">dy_sig = sigmoid(x) * (<span class="number">1</span> - sigmoid(x))</span><br><span class="line"></span><br><span class="line">plt.plot(x, y_sig, label = <span class="string">"sigmoid"</span>)</span><br><span class="line">plt.plot(x, y_dsig, label = <span class="string">"d_sigmoid"</span>)</span><br><span class="line">plt.plot(x, dy_sig, label = <span class="string">"dy_sigmoid"</span>)</span><br><span class="line">plt.legend()    <span class="comment"># plot時にラベルを付与し、legendを呼び出すことで描画グラフに名称が付く</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/87e01723-908b-03c5-e120-0dad3e4de246.png" alt="image"></p>
<h4 id="Sample-of-Neural-Network-input-output"><a href="#Sample-of-Neural-Network-input-output" class="headerlink" title="Sample of Neural Network input/output"></a>Sample of Neural Network input/output</h4><ul>
<li>Neural Network sample script.</li>
<li>Stack values in list. Finally shows sum.<ul>
<li>Finally, Get 1 output from several input.</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Neuron class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Neuron</span> :</span></span><br><span class="line">    input_sum = <span class="number">0.0</span> <span class="comment"># 最終的にこの値が少しずつ増える</span></span><br><span class="line">    output = <span class="number">0.0</span>    <span class="comment"># output用</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setInput</span><span class="params">(self, inp)</span>:</span></span><br><span class="line">        self.input_sum += inp</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getOutput</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.output = self.input_sum</span><br><span class="line">        <span class="keyword">return</span> self.output</span><br><span class="line"></span><br><span class="line"><span class="comment"># Neural Newrok class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NeuralNetwork</span>:</span></span><br><span class="line">    <span class="comment"># Create Neuron instance</span></span><br><span class="line">    neuron = Neuron()</span><br><span class="line">    <span class="comment"># Receive inputs,</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">commit</span><span class="params">(self, input_data)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> data <span class="keyword">in</span> input_data:</span><br><span class="line">            <span class="comment"># setInputメソッドに各入力を与えていく</span></span><br><span class="line">            self.neuron.setInput(data)</span><br><span class="line">        <span class="keyword">return</span> self.neuron.getOutput()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create NeuralNework instance</span></span><br><span class="line">neural_network = NeuralNetwork()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Execute</span></span><br><span class="line">trial_data = [<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>]</span><br><span class="line"><span class="keyword">print</span> <span class="string">"Output ="</span>, neural_network.commit(trial_data)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Output = 6.0</span><br></pre></td></tr></table></figure>
<h4 id="Neural-Network-Single-Neuron-sample"><a href="#Neural-Network-Single-Neuron-sample" class="headerlink" title="Neural Network, Single Neuron sample"></a>Neural Network, Single Neuron sample</h4><ul>
<li>It is getting harder…</li>
<li>Get output from Sigmoid func as <code>1 / (1 + e^-x)</code></li>
<li>A point “Input” is latitude(λ), longitude(θ), bias(b). Finally get “Output”.<ul>
<li>On this time, Calculate output by <code>sigmoid(λ * w0 + θ * w1 + b * w2 )</code>. Set threshold as 0.5f. Judge Tokyo/Kanagawa.</li>
</ul>
</li>
<li>If input value to sigmoid func is loo much bigger or lower, Learning won’t be work. Make input between 0.0f-1.0f, Use offset value <code>refer_point_0/1</code>, Adjust input value to neuron. (Reverse value at the time of graph drawing)</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: UTF-8</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="comment"># シグモイド関数定義</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(a)</span>:</span></span><br><span class="line">    <span class="comment"># math.exp(-a) = e^-1</span></span><br><span class="line">    <span class="keyword">return</span> (<span class="number">1.0</span> / (<span class="number">1.0</span> + math.exp(-a)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Neuron class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Neuron</span> :</span></span><br><span class="line">    input_sum = <span class="number">0.0</span> <span class="comment"># 最終的にこの値が少しずつ増える</span></span><br><span class="line">    output = <span class="number">0.0</span>    <span class="comment"># output用</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setInput</span><span class="params">(self, inp)</span>:</span></span><br><span class="line">        self.input_sum += inp</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getOutput</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.output = sigmoid(self.input_sum)</span><br><span class="line">        <span class="keyword">return</span> self.output</span><br><span class="line"></span><br><span class="line">    <span class="comment"># input/output values intialize</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reset</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.input_sum = <span class="number">0</span></span><br><span class="line">        self.output = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Neural Newrok class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NeuralNetwork</span>:</span></span><br><span class="line">    <span class="comment"># 入力値の重みづけ</span></span><br><span class="line">    w = [<span class="number">-0.5</span>, <span class="number">0.5</span>, <span class="number">-0.2</span>] <span class="comment"># [2]はバイアス重み</span></span><br><span class="line">    <span class="comment"># Create Neuron instance</span></span><br><span class="line">    neuron = Neuron()</span><br><span class="line">    <span class="comment"># Receive inputs,</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">commit</span><span class="params">(self, input_data)</span>:</span></span><br><span class="line">        self.neuron.reset()</span><br><span class="line"></span><br><span class="line">        bias = <span class="number">1.0</span></span><br><span class="line">        self.neuron.setInput(input_data[<span class="number">0</span>] * self.w[<span class="number">0</span>])</span><br><span class="line">        self.neuron.setInput(input_data[<span class="number">1</span>] * self.w[<span class="number">1</span>])</span><br><span class="line">        self.neuron.setInput(bias * self.w[<span class="number">2</span>])</span><br><span class="line">        <span class="keyword">return</span> self.neuron.getOutput()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 基準点(データの範囲を0.0〜1.0内に収める為)</span></span><br><span class="line">refer_point_0 = <span class="number">34.5</span></span><br><span class="line">refer_point_1 = <span class="number">137.5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Read data</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line">trial_data = []</span><br><span class="line">trial_data_file = open(<span class="string">"trial_data.txt"</span>, <span class="string">"r"</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> trial_data_file:</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    line = line.rstrip().split(<span class="string">","</span>) <span class="comment"># 改行を取り除き,で分ける</span></span><br><span class="line">    <span class="comment"># print (float(line[0]) - refer_point_0), (float(line[1]) - refer_point_1)</span></span><br><span class="line">    trial_data.append([float(line[<span class="number">0</span>]) - refer_point_0, float(line[<span class="number">1</span>]) - refer_point_1])</span><br><span class="line">trial_data_file.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create NeuralNework instance</span></span><br><span class="line">neural_network = NeuralNetwork()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Execute</span></span><br><span class="line">position_tokyo = [[], []] <span class="comment"># [経度, 緯度]</span></span><br><span class="line">position_kanagawa = [[], []] <span class="comment"># [経度, 緯度]</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> trial_data:</span><br><span class="line">    <span class="comment"># cmt = sigmoid(data[0] + data[1])</span></span><br><span class="line">    cmt = neural_network.commit(data)</span><br><span class="line">    <span class="keyword">print</span> data[<span class="number">0</span>], data[<span class="number">1</span>],</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'&#123;:.2f&#125;'</span>.format(cmt),</span><br><span class="line">    <span class="keyword">if</span> cmt &lt; <span class="number">0.5</span>:</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"TKO"</span></span><br><span class="line">        position_tokyo[<span class="number">0</span>].append(data[<span class="number">1</span>] + refer_point_1)  <span class="comment"># add 経度</span></span><br><span class="line">        position_tokyo[<span class="number">1</span>].append(data[<span class="number">0</span>] + refer_point_0)  <span class="comment"># add 緯度</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"KNGW"</span></span><br><span class="line">        position_kanagawa[<span class="number">0</span>].append(data[<span class="number">1</span>] + refer_point_1)  <span class="comment"># add 経度</span></span><br><span class="line">        position_kanagawa[<span class="number">1</span>].append(data[<span class="number">0</span>] + refer_point_0)  <span class="comment"># add 緯度</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># trial_data = [1.0, 2.0, 3.0]</span></span><br><span class="line"><span class="comment"># print "Output =", neural_network.commit(trial_data)</span></span><br><span class="line"><span class="comment"># 合計値が0の時は0.5、正方向に増えると１に漸近、小さくなると０に漸近</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 散布図描画</span></span><br><span class="line">plt.scatter(position_tokyo[<span class="number">0</span>], position_tokyo[<span class="number">1</span>], c = <span class="string">"red"</span>, label = <span class="string">"Tokyo"</span>, marker = <span class="string">"+"</span>)</span><br><span class="line">plt.scatter(position_kanagawa[<span class="number">0</span>], position_kanagawa[<span class="number">1</span>], c = <span class="string">"blue"</span>, label = <span class="string">"Kanagawa"</span>, marker = <span class="string">"+"</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/3126a21a-5a83-cb67-a59f-66cfaf1b411d.png" alt="image"></p>
<h4 id="Neural-Network-3-Layers-Network-sample-Unsupervised"><a href="#Neural-Network-3-Layers-Network-sample-Unsupervised" class="headerlink" title="Neural Network, 3 Layers Network sample (Unsupervised)"></a>Neural Network, 3 Layers Network sample (Unsupervised)</h4><ul>
<li>Construct as 3 layers (Input-layer, Middle-layer, Output-layer)</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/dcf735af-b652-5abc-1dbb-c8eeffa5c751.png" alt="image"></p>
<ul>
<li>Each outputs from Input neurons&amp;bias, Use as inputs for Middle neurons.<ul>
<li>Same as this way from Middle to Output.</li>
</ul>
</li>
<li>Add “Weight” each values between Neurons.</li>
<li>Output from Final Neuron, That is finally output of this network.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: UTF-8</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="comment"># シグモイド関数定義</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sigmoid</span><span class="params">(a)</span>:</span></span><br><span class="line">    <span class="comment"># math.exp(-a) = e^-1</span></span><br><span class="line">    <span class="keyword">return</span> (<span class="number">1.0</span> / (<span class="number">1.0</span> + math.exp(-a)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Neuron class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Neuron</span> :</span></span><br><span class="line">    input_sum = <span class="number">0.0</span> <span class="comment"># 最終的にこの値が少しずつ増える</span></span><br><span class="line">    output = <span class="number">0.0</span>    <span class="comment"># output用</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setInput</span><span class="params">(self, inp)</span>:</span></span><br><span class="line">        self.input_sum += inp</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getOutput</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.output = sigmoid(self.input_sum)</span><br><span class="line">        <span class="keyword">return</span> self.output</span><br><span class="line"></span><br><span class="line">    <span class="comment"># input/output values intialize</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reset</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.input_sum = <span class="number">0</span></span><br><span class="line">        self.output = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Neural Newrok class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NeuralNetwork</span>:</span></span><br><span class="line">    <span class="comment"># 入力値の重みづけ</span></span><br><span class="line">    <span class="comment"># 入力層・中間層間の重み</span></span><br><span class="line">    w_im = [[<span class="number">0.496</span>, <span class="number">0.512</span>], [<span class="number">-0.501</span>, <span class="number">0.998</span>], [<span class="number">0.498</span>, <span class="number">-0.502</span>]] <span class="comment"># 第一入力NEU→各中間NEUの重み, 第二入力NEU→各中間NEUの重み, 入力バイアス→各中間NEUの重み</span></span><br><span class="line">    <span class="comment"># 中間層・出力層間の重み</span></span><br><span class="line">    w_mo = [<span class="number">0.121</span>, <span class="number">-0.4996</span>, <span class="number">0.200</span>] <span class="comment"># 第一中間NEU→出力NEUの重み, 第二中間NEU→出力NEUの重み, 中間バイアス→出力NEUの重み</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 入力層：N（ニューロン）、N、バイアス　入力層は数値がそのまま入る</span></span><br><span class="line">    input_layer = [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>]</span><br><span class="line">    <span class="comment"># 中間層：Nインスタンス、Nインスタンス、バイアス</span></span><br><span class="line">    middle_layer = [Neuron(), Neuron(), <span class="number">1.0</span>]</span><br><span class="line">    <span class="comment"># Nはひとつだけ</span></span><br><span class="line">    output_layer = Neuron()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Receive inputs,</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">commit</span><span class="params">(self, input_data)</span>:</span></span><br><span class="line">        <span class="comment"># 各層ニューロン初期化</span></span><br><span class="line">        self.input_layer[<span class="number">0</span>] = input_data[<span class="number">0</span>]</span><br><span class="line">        self.input_layer[<span class="number">1</span>] = input_data[<span class="number">1</span>]</span><br><span class="line">        self.middle_layer[<span class="number">0</span>].reset()</span><br><span class="line">        self.middle_layer[<span class="number">1</span>].reset()</span><br><span class="line">        self.output_layer.reset()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 入力層→中間層</span></span><br><span class="line">        <span class="comment"># 第一中間ニューロンに入力３つ</span></span><br><span class="line">        nr_idx = <span class="number">0</span></span><br><span class="line">        self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">0</span>] * self.w_im[<span class="number">0</span>][nr_idx]) <span class="comment"># 第一入力N出力値×対応重み</span></span><br><span class="line">        self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">1</span>] * self.w_im[<span class="number">1</span>][nr_idx])</span><br><span class="line">        self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">2</span>] * self.w_im[<span class="number">2</span>][nr_idx]) <span class="comment"># バイアス</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 第二中間ニューロンに入力３つ</span></span><br><span class="line">        nr_idx = <span class="number">1</span></span><br><span class="line">        self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">0</span>] * self.w_im[<span class="number">0</span>][nr_idx])</span><br><span class="line">        self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">1</span>] * self.w_im[<span class="number">1</span>][nr_idx])</span><br><span class="line">        self.middle_layer[nr_idx].setInput(self.input_layer[<span class="number">2</span>] * self.w_im[<span class="number">2</span>][nr_idx]) <span class="comment"># バイアス</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 中間層→出力層</span></span><br><span class="line">        self.output_layer.setInput(self.middle_layer[<span class="number">0</span>].getOutput() * self.w_mo[<span class="number">0</span>])</span><br><span class="line">        self.output_layer.setInput(self.middle_layer[<span class="number">1</span>].getOutput() * self.w_mo[<span class="number">1</span>])</span><br><span class="line">        self.output_layer.setInput(self.middle_layer[<span class="number">2</span>] * self.w_mo[<span class="number">2</span>]) <span class="comment"># バイアス</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.output_layer.getOutput() <span class="comment"># ニューラルネットワーク全体の出力値が帰る</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 基準点(データの範囲を0.0〜1.0内に収める為)</span></span><br><span class="line">refer_point_0 = <span class="number">34.5</span></span><br><span class="line">refer_point_1 = <span class="number">137.5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Read data</span></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line">trial_data = []</span><br><span class="line">trial_data_file = open(<span class="string">"trial_data.txt"</span>, <span class="string">"r"</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> trial_data_file:</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    line = line.rstrip().split(<span class="string">","</span>) <span class="comment"># 改行を取り除き,で分ける</span></span><br><span class="line">    <span class="comment"># print (float(line[0]) - refer_point_0), (float(line[1]) - refer_point_1)</span></span><br><span class="line">    trial_data.append([float(line[<span class="number">0</span>]) - refer_point_0, float(line[<span class="number">1</span>]) - refer_point_1])</span><br><span class="line">trial_data_file.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create NeuralNework instance</span></span><br><span class="line">neural_network = NeuralNetwork()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Execute</span></span><br><span class="line">position_tokyo = [[], []] <span class="comment"># [経度, 緯度]</span></span><br><span class="line">position_kanagawa = [[], []] <span class="comment"># [経度, 緯度]</span></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> trial_data:</span><br><span class="line">    <span class="comment"># cmt = sigmoid(data[0] + data[1])</span></span><br><span class="line">    cmt = neural_network.commit(data)</span><br><span class="line">    <span class="keyword">print</span> data[<span class="number">0</span>], data[<span class="number">1</span>],</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'&#123;:.2f&#125;'</span>.format(cmt),</span><br><span class="line">    <span class="keyword">if</span> cmt &lt; <span class="number">0.5</span>:</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"TKO"</span></span><br><span class="line">        position_tokyo[<span class="number">0</span>].append(data[<span class="number">1</span>] + refer_point_1)  <span class="comment"># add 経度</span></span><br><span class="line">        position_tokyo[<span class="number">1</span>].append(data[<span class="number">0</span>] + refer_point_0)  <span class="comment"># add 緯度</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"KNGW"</span></span><br><span class="line">        position_kanagawa[<span class="number">0</span>].append(data[<span class="number">1</span>] + refer_point_1)  <span class="comment"># add 経度</span></span><br><span class="line">        position_kanagawa[<span class="number">1</span>].append(data[<span class="number">0</span>] + refer_point_0)  <span class="comment"># add 緯度</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 散布図描画</span></span><br><span class="line">plt.scatter(position_tokyo[<span class="number">0</span>], position_tokyo[<span class="number">1</span>], c = <span class="string">"red"</span>, label = <span class="string">"Tokyo"</span>, marker = <span class="string">"+"</span>)</span><br><span class="line">plt.scatter(position_kanagawa[<span class="number">0</span>], position_kanagawa[<span class="number">1</span>], c = <span class="string">"blue"</span>, label = <span class="string">"Kanagawa"</span>, marker = <span class="string">"+"</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/135051/e1a92c93-eaa6-4cc8-4d4a-54d7e8d0dda0.png" alt="image"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://we-yu.github.io/2019/03/23/Udemy-ゼロからPythonで学ぶ人工知能と機械学習-数学系処理／ニューロン編/" data-id="cjtohfo6a000lxvi57x294yl2" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Udemy-Python-MachineLearning/">Udemy Python MachineLearning</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-FGO-For-FGO-Apple-Purchasing-quartz-from-outside-of-Japan" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/FGO-For-FGO-Apple-Purchasing-quartz-from-outside-of-Japan/" class="article-date">
  <time datetime="2019-03-21T16:01:28.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/FGO-For-FGO-Apple-Purchasing-quartz-from-outside-of-Japan/">FGO - For FGO(Apple), Purchasing quartz from outside of Japan.</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="FGO-For-FGO-Apple-Purchasing-quartz-from-outside-of-Japan"><a href="#FGO-For-FGO-Apple-Purchasing-quartz-from-outside-of-Japan" class="headerlink" title="FGO - For FGO(Apple), Purchasing quartz from outside of Japan."></a>FGO - For FGO(Apple), Purchasing quartz from outside of Japan.</h2><h3 id="Disclaimer"><a href="#Disclaimer" class="headerlink" title="Disclaimer"></a><font color="Red">Disclaimer</font></h3><ul>
<li><font color="Red">Sign up, Credit card registration, purchasing, please do it by your own responsibility.</font>

</li>
</ul>
<h4 id="Precondition"><a href="#Precondition" class="headerlink" title="Precondition"></a>Precondition</h4><ul>
<li>Long stay in outside of Japan.</li>
<li>Already registered Local credit card. (Non-JP Card)</li>
<li>Japanese Credit card No have or Expired.</li>
<li>Target game is Japanese FGO (FGOjp)</li>
</ul>
<h4 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h4><ul>
<li><strong>Purchase by Android, Play on iPhone</strong></li>
</ul>
<h4 id="To-get-FGOjp"><a href="#To-get-FGOjp" class="headerlink" title="To get FGOjp"></a>To get FGOjp</h4><ul>
<li>FGOjp download available only in Japanese store. For both of Android and Apple versions.</li>
<li><strong>To get FGOjp</strong>, That is not difficult if you were living in outside of Japan.<ul>
<li>Change your current location by VPN, Or register AppleStore account make as Japanese local. (2018/Aug, No need register Credit to make account)</li>
</ul>
</li>
<li>After complete installation, As long as connect with internet, You can play FGOjp anywhere.</li>
<li>This is not main topic… But if you want to play in comfortable speed, I’d strongly recommend play in Apple version.</li>
</ul>
<h3 id="To-purchase"><a href="#To-purchase" class="headerlink" title="To purchase"></a>To purchase</h3><ul>
<li>This is free-to-play game. It is easy way to get, install, and play.<br>However, If you try to purchase, You may get this message and fail to pay.</li>
</ul>
<!-- ![alt](FGO-For-FGO-Apple-Purchasing-quartz-from-outside-of-Japan/productError.png "title") -->
<p><img src="https://raw.githubusercontent.com/we-yu/we-yu.github.io/master/2019/03/21/FGO-For-FGO-Apple-Purchasing-quartz-from-outside-of-Japan/productError.png"></p>
<blockquote>
<p>購入できません　指定されたプロダクトデータが取得できませんでした</p>
</blockquote>
<p><em><small>Unpurchasable. Failed to get target product data</small></em></p>
<h3 id="Hypothesis"><a href="#Hypothesis" class="headerlink" title="Hypothesis"></a>Hypothesis</h3><ul>
<li>To purchase Japanese game, Might be ApplreStore requires <strong>Credit Cared registered or Balance remained in Japanese account</strong>.</li>
<li>And <strong>Japanese Account only accepts Japanese Credit card</strong>.<ul>
<li>By this 2 case, Residents outside of Japan, They have been checkmate.</li>
</ul>
</li>
<li>At purchasing time, If switch to “Credit Card registered account”(<em>Your main account</em>), It also failed. Might be cancelled to purchase for “Application that isn’t exist in Account’s region”<ul>
<li>For example. If you have “USA AppleStore Account” and that is already registered your Credit. But AppleStore:USA <strong>Doesn’t have FGOjp</strong>, That purchasing will be cancel.</li>
</ul>
</li>
</ul>
<h3 id="To-solve"><a href="#To-solve" class="headerlink" title="To solve"></a>To solve</h3><ul>
<li>By that results. Realistic solving way to purchase. That is …<ol>
<li>Before purchasing, Migrate your account to Android FGOjp.</li>
<li>Move to <code>Da Vinci workshop</code> in game.</li>
<li>Purchase quartz as much you want.</li>
<li>Migrate account again, Back to Apple version.</li>
<li><strong>Roll your Gacha! Roll! Roll!! Roll!!!</strong></li>
<li>You got it!</li>
</ol>
</li>
</ul>
<!-- ![alt](FGO-For-FGO-Apple-Purchasing-quartz-from-outside-of-Japan/mabo.jpg "title") -->
<!-- <img src="FGO-For-FGO-Apple-Purchasing-quartz-from-outside-of-Japan/mabo.jpg" /> -->
<p><img src="https://raw.githubusercontent.com/we-yu/we-yu.github.io/master/2019/03/21/FGO-For-FGO-Apple-Purchasing-quartz-from-outside-of-Japan/mabo.jpg"></p>
<h3 id="Loose-ends"><a href="#Loose-ends" class="headerlink" title="Loose ends"></a>Loose ends</h3><font color="Red">All of this section is expected from above results. Nothing any warranty exists.</font>

<ul>
<li>May succeed your purchasing if exist remaining balance in Japanese AppleStore account.</li>
<li>This article has precondition of <em>Nothing any Japanese Credit card</em><br>However, If you get <strong>JPY(￥) iTunes card</strong>, No need JP-Credit anymore.<ul>
<li>There is store that sells JP-iTunes card at near of you.</li>
<li>Your friend who going to Japan temporarily, or Come from Japan. Ask him to buy JP-iTunes card.</li>
<li>Use online shop to buy JP-iTunes card.</li>
</ul>
</li>
<li>As this way, If you get JPY iTunes card and succeed to top-up your Japanese AppleStore account. It <strong>might be</strong> don’t have to do annoying ping-pong account migration.</li>
</ul>
<h3 id="For-other-games"><a href="#For-other-games" class="headerlink" title="For other games"></a>For other games</h3><ul>
<li>Currently I play only FGO. I focused FGO on this article.</li>
<li>But maybe you can purchase for other similar (Only for Japan, Free-to-play) games.<ul>
<li>If you want to try, <font color="Red">Please do it by your own responsibility.</font></li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://we-yu.github.io/2019/03/21/FGO-For-FGO-Apple-Purchasing-quartz-from-outside-of-Japan/" data-id="cjtohfo5i0000xvi5ajndarte" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Apple-FGO-課金-ソシャゲ-purchase-Game/">Apple FGO 課金 ソシャゲ purchase Game</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Udemy-Learning-Unity-3D迷路ゲーム開発入門" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/Udemy-Learning-Unity-3D迷路ゲーム開発入門/" class="article-date">
  <time datetime="2019-03-21T15:22:29.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/Udemy-Learning-Unity-3D迷路ゲーム開発入門/">Udemy Learning : Unity 3D迷路ゲーム開発入門</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Udemy-Learning-Unity-3D迷路ゲーム開発入門"><a href="#Udemy-Learning-Unity-3D迷路ゲーム開発入門" class="headerlink" title="Udemy Learning : Unity 3D迷路ゲーム開発入門"></a>Udemy Learning : Unity 3D迷路ゲーム開発入門</h2><h3 id="Udemy-Learning-Unity-3D迷路ゲーム開発入門-1"><a href="#Udemy-Learning-Unity-3D迷路ゲーム開発入門-1" class="headerlink" title="Udemy Learning : Unity 3D迷路ゲーム開発入門"></a><a href="https://www.udemy.com/unity3d-maze/" target="_blank" rel="noopener">Udemy Learning : Unity 3D迷路ゲーム開発入門</a></h3><h4 id="Interest-points-Should-be-remember"><a href="#Interest-points-Should-be-remember" class="headerlink" title="Interest points (Should be remember)"></a>Interest points (Should be remember)</h4><ul>
<li><strong>10</strong>. whileによってプログラムを何度も実行しよう (How to control numbers of execution by using While)<ul>
<li>Attach to Unity, Insert Breakpoint.</li>
</ul>
</li>
</ul>
<ul>
<li><strong>18</strong>. 配列変数のすべての要素を対象としたLINQ処理を使おう (LINQ that is like SQL)<ul>
<li>How to use LINQ, Lambda.</li>
</ul>
</li>
</ul>
<ul>
<li><strong>21</strong>. .変数の値型と参照型を使い分けよう (Two types of variable: value and reference)<ul>
<li>What is type of value, type of reference.</li>
<li>What’s happen if change value inside function.</li>
</ul>
</li>
</ul>
<ul>
<li><strong>23</strong>. メソッドとの情報のやり取りについてまとめよう (interface between caller and callee of a method)<ul>
<li>Argument of <code>ref</code>, <code>out</code>.</li>
<li>Named Argument, Omittable Argument.</li>
</ul>
</li>
</ul>
<ul>
<li><strong>28</strong>. ロボットを配置しよう (Arrangement of robots)<ul>
<li>World space : Coordinates in 3D world.</li>
<li>Screen space : Grid of Camera-view. Origin(1, 1) is left-bottom of view. Maximum is Undefined. (Depend on screen resolution)</li>
<li>View-port space : Grid of Camera-view. Origin(1, 1) is right-top of view. Maximum is (1.0f, 1.0f).<ul>
<li><strong>This is relative value</strong>. For example, (0.5f, 0.5f) is always center point of view.</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong>30</strong>. RobotMotionクラスを作成しよう (RobotMotion class that is used for animation)<ul>
<li>Action Class</li>
<li>Nameless Function, Lambda</li>
</ul>
</li>
</ul>
<ul>
<li><strong>31</strong>. マウスクリックの動作を作成しよう (How to make an interface using mouse click)<ul>
<li>Copy value of reference.</li>
<li>Double constructor(Call Constructor from Constructor in same Class)</li>
</ul>
</li>
</ul>
<ul>
<li><strong>39</strong>. セルを作って迷路をつくろう（その2）(Maze creation based on lattice cells (2))<ul>
<li>Processing index for all values in array by LINQ（Use ForEach : Process for each values in array）</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Total</strong><ul>
<li>Static Function = Callable function without Instantiate.</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://we-yu.github.io/2019/03/21/Udemy-Learning-Unity-3D迷路ゲーム開発入門/" data-id="cjtohfo5r0004xvi5hmsz5ofk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity-Udemy/">Unity Udemy</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Udemy-ゼロからPythonで学ぶ人工知能と機械学習-Python基礎編" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/20/Udemy-ゼロからPythonで学ぶ人工知能と機械学習-Python基礎編/" class="article-date">
  <time datetime="2019-03-20T15:45:09.000Z" itemprop="datePublished">2019-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/20/Udemy-ゼロからPythonで学ぶ人工知能と機械学習-Python基礎編/">Udemy-ゼロからPythonで学ぶ人工知能と機械学習 : Python基礎編</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="みんなのAI講座-ゼロからPythonで学ぶ人工知能と機械学習"><a href="#みんなのAI講座-ゼロからPythonで学ぶ人工知能と機械学習" class="headerlink" title="みんなのAI講座 ゼロからPythonで学ぶ人工知能と機械学習"></a><a href="https://www.udemy.com/learning-ai/learn/v4/overview" target="_blank" rel="noopener">みんなのAI講座 ゼロからPythonで学ぶ人工知能と機械学習</a></h2><p><small>Learning AI and Machinelearning by Python from scratch.</small></p>
<h3 id="Background-of-myself"><a href="#Background-of-myself" class="headerlink" title="Background of myself"></a>Background of myself</h3><ul>
<li>Never used Python</li>
<li>Main skill is C</li>
<li>Use C# for Unity in private.</li>
<li>In work, Use PHP+HTML+CSS+JavaScript</li>
</ul>
<h3 id="Set-comment-in-multiple-lines"><a href="#Set-comment-in-multiple-lines" class="headerlink" title="Set comment in multiple lines"></a>Set comment in multiple lines</h3><blockquote>
<p>Ctrl + /<br><br>Command + /</p>
</blockquote>
<h3 id="Allow-Japanese-text"><a href="#Allow-Japanese-text" class="headerlink" title="Allow Japanese text"></a>Allow Japanese text</h3><p>At top of file</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#config: UTF-8</span></span><br></pre></td></tr></table></figure>
<h3 id="Text-Multiplication"><a href="#Text-Multiplication" class="headerlink" title="Text Multiplication"></a>Text Multiplication</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">"Hello"</span></span><br><span class="line"></span><br><span class="line">d = a * <span class="number">5</span></span><br><span class="line"><span class="keyword">print</span> d</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HelloHelloHelloHelloHello</span><br></pre></td></tr></table></figure>
<h3 id="What-is-Tuple"><a href="#What-is-Tuple" class="headerlink" title="What is Tuple?"></a>What is Tuple?</h3><p>Unchangeable array. Can I use as <code>DEFINE</code> or <code>Const</code>?</p>
<h3 id="What-is-Dictionary"><a href="#What-is-Dictionary" class="headerlink" title="What is Dictionary?"></a>What is Dictionary?</h3><p>It’s possible to call values as Associative-array. (It can use text as index)</p>
<h3 id="Debugger"><a href="#Debugger" class="headerlink" title="Debugger"></a>Debugger</h3><ul>
<li>To insert break-point, Click line-number. Stop execution at that point.</li>
<li>To kick debug, Kick <code>Debug&quot;File name&quot;</code> command.</li>
<li>Execution will be stop at break-point. Kick <code>Step into(F7)</code> proceed step 1 by 1.</li>
<li>Time of <strong>Left side</strong> update, That is “Moved to next line”.</li>
</ul>
<h3 id="List-in-List"><a href="#List-in-List" class="headerlink" title="List in List"></a>List in List</h3><ul>
<li>It can generate Vector and Matrix.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = [[<span class="number">2012</span>, <span class="number">2013</span>, <span class="number">2014</span>], [<span class="number">2015</span>, <span class="number">2016</span>, <span class="number">2017</span>]]</span><br><span class="line">b = a[<span class="number">1</span>][<span class="number">0</span>]</span><br><span class="line"><span class="keyword">print</span> b <span class="comment"># １番目リストの０番要素にアクセス</span></span><br><span class="line"></span><br><span class="line">a.append([<span class="number">2018</span>, <span class="number">2019</span>])</span><br><span class="line"><span class="keyword">print</span> a <span class="comment"># リストを追加</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">2</span>].append(<span class="number">2020</span>)</span><br><span class="line"><span class="keyword">print</span> a <span class="comment"># リスト内のリストに要素追加</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2015</span><br><span class="line">[[2012, 2013, 2014], [2015, 2016, 2017], [2018, 2019]]</span><br><span class="line">[[2012, 2013, 2014], [2015, 2016, 2017], [2018, 2019, 2020]]</span><br></pre></td></tr></table></figure>
<h3 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h3><ul>
<li>Define Class, Define Value and Method, Instantiate.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Define Class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">    <span class="comment"># property</span></span><br><span class="line">    name = <span class="string">""</span></span><br><span class="line">    <span class="comment"># Method</span></span><br><span class="line">    <span class="comment"># 必ず引数部にselfを書く</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bark</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># メソッド内でプロパティにアクセスする場合は "self." が必須</span></span><br><span class="line">        m = self.name + <span class="string">" : Bow-wow!"</span></span><br><span class="line">        <span class="keyword">print</span> m</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create instance</span></span><br><span class="line">pochi = Dog()</span><br><span class="line">pochi.name = <span class="string">"POCHI"</span></span><br><span class="line">pochi.bark()</span><br><span class="line"></span><br><span class="line">hachi = Dog()</span><br><span class="line">hachi.name = <span class="string">"HACHI"</span></span><br><span class="line">hachi.bark()</span><br></pre></td></tr></table></figure>
<h3 id="Class-List-and-For"><a href="#Class-List-and-For" class="headerlink" title="Class, List, and For"></a>Class, List, and For</h3><ul>
<li>Instantiated Instance can be Define or access as normal value, array.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Value値の自乗値をReturnする</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculation</span>:</span></span><br><span class="line">    value = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">square</span><span class="params">(self)</span>:</span></span><br><span class="line">        s = self.value * self.value</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line">calcs = [Calculation(), Calculation(), Calculation()]</span><br><span class="line"></span><br><span class="line">calcs[<span class="number">0</span>].value = <span class="number">3</span></span><br><span class="line">calcs[<span class="number">1</span>].value = <span class="number">4</span></span><br><span class="line">calcs[<span class="number">2</span>].value = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> calcs:</span><br><span class="line">    <span class="keyword">print</span> c.square()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">9</span><br><span class="line">16</span><br><span class="line">25</span><br></pre></td></tr></table></figure>
<h3 id="File-Open-Close-then-Cast-on-that-time"><a href="#File-Open-Close-then-Cast-on-that-time" class="headerlink" title="File : Open / Close, then Cast on that time"></a>File : Open / Close, then Cast on that time</h3><ul>
<li>It is same as C, Grab and Close a file. How every, It is able to cast (ex, integer) at the time of read.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">score_list = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># Read CSV file in same directory</span></span><br><span class="line">score_list_file = open(<span class="string">"score.csv"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> score <span class="keyword">in</span> score_list_file :</span><br><span class="line">    score = score.rstrip() <span class="comment"># Delete line break</span></span><br><span class="line">    score = score.split(<span class="string">","</span>) <span class="comment"># Sprit by ,</span></span><br><span class="line">    <span class="comment"># score_list.append(score)</span></span><br><span class="line">    <span class="comment"># [0] read as text, [1] cast for integer</span></span><br><span class="line">    score_list.append([score[<span class="number">0</span>], int(score[<span class="number">1</span>])])</span><br><span class="line"></span><br><span class="line">score_list_file.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> score_list</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[&apos;Taro&apos;, 78], [&apos;HHanako&apos;, 89], [&apos;Ichiro&apos;, 68], [&apos;Keita&apos;, 54], [&apos;Yuko&apos;, 89], [&apos;Reiko&apos;, 78]]</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://we-yu.github.io/2019/03/20/Udemy-ゼロからPythonで学ぶ人工知能と機械学習-Python基礎編/" data-id="cjtohfo5s0005xvi5j4oqi47t" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python-Python2-7-Udemy/">Python Python2.7 Udemy</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Review4RecentlyUdemyClasses" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/20/Review4RecentlyUdemyClasses/" class="article-date">
  <time datetime="2019-03-19T17:48:45.000Z" itemprop="datePublished">2019-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/20/Review4RecentlyUdemyClasses/">Review4RecentlyUdemyClasses</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Review-for-recently-Udemy-classes"><a href="#Review-for-recently-Udemy-classes" class="headerlink" title="Review for recently Udemy classes"></a>Review for recently Udemy classes</h2><ol>
<li><p><a href="https://www.udemy.com/unity3d-maze/" target="_blank" rel="noopener">Unity 3D迷路ゲーム開発入門</a></p>
<ul>
<li>Create 3D-packman-like game.</li>
<li>Using object is primitive one, or combined that. Materials, Shaders, Uses only for change color.</li>
<li>Control enemy-unit moving by simple AI. Let them trace player-unit.</li>
<li>Edit many of src files. Implemented by C#, Use Lambda many times.<ul>
<li>Use a lot of src files, and their class and functions connected as complicated. It may hard for first time programmer.</li>
<li>You have to use Pass by Reference, Pass by value and Inheritance. You’d better understand this informations before start.</li>
</ul>
</li>
<li>There’s start &amp; goal in game, But no have “scene change”.</li>
<li>Use UI as Buttons. This is Unity basic functions.</li>
<li><strong>Some programming knowledge, thinking is required. But if you have that already, good course for study</strong>.</li>
</ul>
</li>
</ol>
<ol start="2">
<li><p><a href="https://www.udemy.com/unity-3d-game-design/" target="_blank" rel="noopener">【初心者でも簡単】はじめてのUnity 3D ゲームデザイン</a></p>
<ul>
<li><strong>Require Macintosh for student. If you want to install application for publish and setting in Windows, You have to replace of information skill in your mind.</strong><ul>
<li>Might be point isn’t Mac, <strong>Important is Command line</strong>. Maybe you can do same way on Linux.</li>
<li>Maybe this is my fault, Use on Cygwin, That was failed.</li>
</ul>
</li>
<li>Main game is very simple. Attach some lights and downloaded materials for object. Then wondering in that world.<ul>
<li><strong>Never coding</strong>. Basically uses StandardAssets and downloaded materials. Just build only “Stage for roaming”.</li>
</ul>
</li>
<li>This class is for beginner. On this time, Beginner means <strong>Never coding before</strong>.</li>
</ul>
</li>
</ol>
<ol start="3">
<li><p><a href="https://www.udemy.com/create-a-simple-3d-unity-game-in-2-hours-from-scratch/" target="_blank" rel="noopener">Create a simple 3D Unity Game from Scratch</a></p>
<ul>
<li><strong>English only</strong>. No subtitles. But follow their title and action, You may understand what you have to do roughly.</li>
<li>On 3D stage, Play with bounding ball and get scores.</li>
<li>Save last score and high-score.</li>
<li>Nothing game clear, But implement Page transition from start to goal and time of gameover.</li>
<li>If Compare #1, Code is very simple. But need to use physical simulation. (Rigidbody, AddForce)</li>
<li>Use text and button in Unity UI.</li>
<li>Do build, And create execution file.</li>
<li>Nothing special features. It make as title, “Create sipmle game from scratch”.<ul>
<li>If you try to do from simple game, I can recommend for you.</li>
</ul>
</li>
</ul>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://we-yu.github.io/2019/03/20/Review4RecentlyUdemyClasses/" data-id="cjtohfo5q0003xvi5cqisg073" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity-Udemy/">Unity Udemy</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Post" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/19/Post/" class="article-date">
  <time datetime="2019-03-19T16:27:35.000Z" itemprop="datePublished">2019-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/19/Post/">Post</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://we-yu.github.io/2019/03/19/Post/" data-id="cjtohfo5m0001xvi5bd6o2sc3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apple-FGO-課金-ソシャゲ-purchase-Game/">Apple FGO 課金 ソシャゲ purchase Game</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python-Doujin-game/">Python Doujin-game</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python-Python2-7-Udemy/">Python Python2.7 Udemy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python-Web-scraping/">Python Web-scraping</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python-simpy-Python2-7/">Python simpy Python2.7</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Udemy-Python-MachineLearning/">Udemy Python MachineLearning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity-Udemy/">Unity Udemy</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Apple-FGO-課金-ソシャゲ-purchase-Game/" style="font-size: 10px;">Apple FGO 課金 ソシャゲ purchase Game</a> <a href="/tags/Python-Doujin-game/" style="font-size: 10px;">Python Doujin-game</a> <a href="/tags/Python-Python2-7-Udemy/" style="font-size: 10px;">Python Python2.7 Udemy</a> <a href="/tags/Python-Web-scraping/" style="font-size: 10px;">Python Web-scraping</a> <a href="/tags/Python-simpy-Python2-7/" style="font-size: 10px;">Python simpy Python2.7</a> <a href="/tags/Udemy-Python-MachineLearning/" style="font-size: 20px;">Udemy Python MachineLearning</a> <a href="/tags/Unity-Udemy/" style="font-size: 20px;">Unity Udemy</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/03/24/pythonによる紳士達の性癖分析：Webスクレイピング編/">pythonによる紳士達の性癖分析：Webスクレイピング編</a>
          </li>
        
          <li>
            <a href="/2019/03/24/pythonによる紳士達の性癖分析：データ分析編/">pythonによる紳士達の性癖分析：データ分析編</a>
          </li>
        
          <li>
            <a href="/2019/03/24/sympyによる導関数の算出・描画/">sympyによる導関数の算出・描画</a>
          </li>
        
          <li>
            <a href="/2019/03/23/Udemy-ゼロからPythonで学ぶ人工知能と機械学習-ニューラルネットワークまとめ/">Udemy - ゼロからPythonで学ぶ人工知能と機械学習 : ニューラルネットワークまとめ</a>
          </li>
        
          <li>
            <a href="/2019/03/23/Udemy-ゼロからPythonで学ぶ人工知能と機械学習-数学系処理／ニューロン編/">Udemy - ゼロからPythonで学ぶ人工知能と機械学習 : 数学系処理／ニューロン編</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 yuji<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>